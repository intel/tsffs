#  Copyright (C) 2023 Intel Corporation
# SPDX-License-Identifier: Apache-2.0

[workspace.package]
authors = [
    "Rowan Hart <rowan.hart@intel.com>",
    "Brandon Marken <brandon.marken@intel.com>",
    "Robert Geunzel <robert.geunzel@intel.com>",
]
categories = ["development-tools::testing", "emulators", "simulation"]
description = "A snapshotting, coverage-guided fuzzer for software (UEFI, Kernel, firmware, BIOS) built on SIMICS"
edition = "2021"
homepage = "https://github.com/intel/tsffs"
keywords = ["SIMICS", "fuzzing", "security", "testing", "simulator"]
license = "Apache-2.0"
publish = false
readme = "README.md"
repository = "https://github.com/intel/tsffs"
version = "0.1.0"

[workspace]
resolver = "2"
members = [
    "src/fuzzer",
    "src/tsffs",
    "src/simics/ispm-wrapper",
    "src/simics/simics-api-sys",
    "src/simics/simics-api-macro",
    "src/simics/simics",

    "src/util/command-ext",
    "src/util/ffi-macro",
    "src/util/raw-cstr",
    "src/util/tmp-dir",
    "src/util/version-tools",
]
default-members = [
    "src/fuzzer",
    "src/tsffs",
    "src/simics/ispm-wrapper",
    "src/simics/simics-api-sys",
    "src/simics/simics-api-macro",
    "src/simics/simics",

    "src/util/command-ext",
    "src/util/ffi-macro",
    "src/util/raw-cstr",
    "src/util/tmp-dir",
    "src/util/version-tools",
]
exclude = []

[workspace.dependencies]
tsffs = { path = "src/tsffs" }
ispm-wrapper = { path = "src/simics/ispm-wrapper" }
simics-api-sys = { path = "src/simics/simics-api-sys" }
simics-api-macro = { path = "src/simics/simics-api-macro" }
simics = { path = "src/simics/simics" }

command-ext = { path = "src/util/command-ext" }
ffi-macro = { path = "src/util/ffi-macro" }
raw-cstr = { path = "src/util/raw-cstr" }
tmp-dir = { path = "src/util/tmp-dir" }
version-tools = { path = "src/util/version-tools" }

anyhow = { version = "1.0.75" }
libafl = { version = "0.11.1" }
libafl_bolts = { version = "0.11.1" }
serde = { version = "1.0.188", features = ["derive"] }
serde_json = { version = "1.0.107" }
versions = { version = "5.0.1", features = ["serde"] }


[profile.dev]
rpath = true

[profile.release]
rpath = true
lto = true
codegen-units = 1
opt-level = 3
debug = true
